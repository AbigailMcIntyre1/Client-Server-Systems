// Abigail McIntyre
// Project 4 - Trojan Software
// Due 03/16/2022

// ---------------------------------------------------------------------------------------------------------------------------
// The server side of the program, sets up the server and creates the ConnectionToClient which waits for a message from
// the client.
// ---------------------------------------------------------------------------------------------------------------------------

import java.io.IOException;
import java.net.Socket;
import java.net.*;

public class MalwareServer 
{
    public static void main(String[] args) 
    {
        ServerSocket serverSocket;
        Socket normalSocket;
        ConnectionToClient ctc;

        System.out.println("Server is starting...");
        
        try 
        {
            serverSocket = new ServerSocket(3737);                              // create a server socket
            System.out.println("Server is waiting to accept a request for a connection...");
            normalSocket = serverSocket.accept();                               // use a regular socket to accept a connection from a client
            System.out.println("Server accepted a request.");
            ctc = new ConnectionToClient(normalSocket);                         // start waiting for file names
        } 
        catch (IOException e) 
        {
            System.out.println("Error constructing sockets or connecting - server");
        }
        
    }
}
